<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>岗位发布</title>
  <link rel="stylesheet" href="../../scripts/layui/css/layui.css">
  <link rel="stylesheet" href="../../styles/company/jobmange.css">
</head>

<body>
  <div class="body-wrapper">
    <div class="head-btn">
      <button type="button" class="layui-btn layui-btn-normal">添加岗位</button>
    </div>
    <table class="layui-table" lay-data="{width: 100%, height:100%, url:'/demo/table/user/', page:true, id:'idTest'}"
      lay-filter="demo">
      <thead>
        <tr>
          <th lay-data="{field:'name', align:'center'}">简历名称</th>
          <th lay-data="{field:'time', align:'center'}">发布日期</th>
          <th lay-data="{width:200, align:'center', toolbar: '#barDemo'}">操作</th>
        </tr>
      </thead>
    </table>

    <script type="text/html" id="barDemo">
      <a class="layui-btn layui-btn-xs" lay-event="edit">编辑</a>
      <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">删除</a>
    </script>
  </div>

  <script src="../../scripts/layui/layui.js"></script>

  <script>
    layui.use('table', function () {
      var table = layui.table;
      //监听工具条
      table.on('tool(demo)', function (obj) {
        var data = obj.data;
        if (obj.event === 'del') {
          layer.confirm('真的删除行么', function (index) {
            obj.del();
            layer.close(index);
          });
        } else if (obj.event === 'edit') {
          layer.alert('编辑行：<br>' + JSON.stringify(data))
        }
      });

      var $ = layui.$, active = {
        getCheckData: function () { //获取选中数据
          var checkStatus = table.checkStatus('idTest')
            , data = checkStatus.data;
          layer.alert(JSON.stringify(data));
        }
        , getCheckLength: function () { //获取选中数目
          var checkStatus = table.checkStatus('idTest')
            , data = checkStatus.data;
          layer.msg('选中了：' + data.length + ' 个');
        }
        , isAll: function () { //验证是否全选
          var checkStatus = table.checkStatus('idTest');
          layer.msg(checkStatus.isAll ? '全选' : '未全选')
        }
      };

      $('.demoTable .layui-btn').on('click', function () {
        var type = $(this).data('type');
        active[type] ? active[type].call(this) : '';
      });
    });
  </script>

</body>

</html>